"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[361],{3710:function(e,r,s){s.d(r,{Z:function(){return w}});var n=s(5861),a=s(885),t=s(7757),c=s.n(t),i=s(2791),o=s(7022),d=s(9743),l=s(2677),u=s(32),v=s(3958),m=s(2249),f=s(7299),x=s(4483),p=s(3174),h=s(184);var j=function(e){var r=e.currentOrb;return(0,h.jsxs)(d.Z,{id:"order-progress",children:[(0,h.jsxs)("div",{className:"orb-wrapper ".concat(0===r&&"in-progress"," ").concat(r>0&&"finished"),children:[(0,h.jsx)("div",{className:"over-connector"}),(0,h.jsx)("div",{className:"under-connector"}),(0,h.jsxs)("div",{className:"outer-orb",children:[(0,h.jsx)(x.G,{className:"icon",icon:p.Ycs}),(0,h.jsx)("div",{className:"inner-orb"})]})]}),(0,h.jsxs)("div",{className:"orb-wrapper ".concat(1===r&&"in-progress"," ").concat(r>1&&"finished"),children:[(0,h.jsx)("div",{className:"over-connector"}),(0,h.jsx)("div",{className:"under-connector"}),(0,h.jsxs)("div",{className:"outer-orb",children:[(0,h.jsx)(x.G,{className:"icon",icon:p.fAl}),(0,h.jsx)("div",{className:"inner-orb"})]})]}),(0,h.jsxs)("div",{className:"orb-wrapper ".concat(2===r&&"in-progress"," ").concat(r>2&&"finished"),children:[(0,h.jsx)("div",{className:"over-connector"}),(0,h.jsx)("div",{className:"under-connector"}),(0,h.jsxs)("div",{className:"outer-orb",children:[(0,h.jsx)(x.G,{className:"icon",icon:p.uYz}),(0,h.jsx)("div",{className:"inner-orb"})]})]}),(0,h.jsx)("div",{className:"orb-wrapper ".concat(3===r&&"finished"),children:(0,h.jsxs)("div",{className:"outer-orb",children:[(0,h.jsx)(x.G,{className:"icon",icon:p.chG}),(0,h.jsx)("div",{className:"inner-orb"})]})})]})};var N=function(e){var r=e.message,s=e.timestamp,n=e.index,a=e.currentOrb;return(0,h.jsxs)("div",{className:"timestamped-action ".concat(n<a&&"old"),children:[s," ",r]})},Z=s(580),b=s(1733);var w=(0,u.Pi)((function(){var e,r,s,t,u,x=(0,i.useContext)(v.Z).orders,p=(0,i.useState)(0),w=(0,a.Z)(p,2),g=w[0],O=w[1],y=(0,i.useState)(""),k=(0,a.Z)(y,2),P=k[0],G=k[1],E=(0,i.useState)(0),L=(0,a.Z)(E,2),C=L[0],I=L[1],T=(0,i.useState)(0),S=(0,a.Z)(T,2),q=S[0],R=S[1],Y=null===(e=x.activeOrder)||void 0===e?void 0:e.address,z=Y.firstName,A=Y.lastName,$=Y.addressLineOne,D=Y.addressLineTwo,Q=Y.city,W=Y.state,_=Y.zip;return(0,i.useEffect)((function(){if(x.activeOrder.actionLog.length){var e=x.activeOrder,r=e.status,s=e.actionLog;G(s[s.length-1][1]),O(r),I(x.activeOrder.time[0]+25-4*r),R(x.activeOrder.time[1]+25-4*r)}}),[null===(r=x.activeOrder)||void 0===r?void 0:r.status]),(0,i.useEffect)((function(){(0,n.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.li)();case 2:(r=e.sent)&&x.setActiveOrder(r);case 4:case"end":return e.stop()}}),e)})))()}),[]),"-1"===x.activeOrder.id?null:(0,h.jsxs)(o.Z,{id:"active-order",children:[(0,h.jsx)("h1",{children:"You placed an order"}),(0,h.jsxs)(d.Z,{className:"main-row",children:[(0,h.jsxs)(l.Z,{className:"items-delivery-address-col",md:6,children:[(0,h.jsxs)("h2",{children:["Order #",(0,h.jsx)("span",{id:"displayed-id",children:null===(s=x.activeOrder)||void 0===s?void 0:s.id.split("").slice(0,8).join("")})]}),(0,h.jsx)(m.Z,{className:"items-ul",id:"items-ul",items:null===(t=x.activeOrder)||void 0===t?void 0:t.foodItems,renderList:function(e){return(0,h.jsx)("li",{children:(0,h.jsx)(f.Z,{foodItem:e})},e.id)}}),(0,h.jsxs)(l.Z,{className:"delivery-address",children:[(0,h.jsx)(l.Z,{className:"label",children:"Deliver to:"}),(0,h.jsxs)(l.Z,{children:[z," ",A]}),(0,h.jsxs)(l.Z,{children:[$," ",D]}),(0,h.jsxs)(l.Z,{children:[Q,", ",W," ",_]})]})]}),(0,h.jsxs)(l.Z,{className:"status",md:6,children:[(0,h.jsx)("h2",{className:"header",children:"The rest is on us!"}),(0,h.jsx)("span",{className:"label",children:"Order status"}),(0,h.jsx)("span",{className:"dynamic-status-subheading",children:P}),(0,h.jsx)(j,{currentOrb:g}),(0,h.jsxs)(d.Z,{className:"info-row",children:[(0,h.jsx)(l.Z,{className:"estimated-time",md:6,children:(0,h.jsxs)("div",{className:"inner-content",children:[(0,h.jsx)("span",{className:"label",children:"Estimated time"}),(0,h.jsx)("span",{className:"figure ".concat(3===g&&"blocked"),children:"".concat(C," - ").concat(q," minutes")})]})}),(0,h.jsx)(l.Z,{className:"order-log",md:6,children:(0,h.jsxs)("div",{className:"inner-content",children:[(0,h.jsx)("span",{className:"label",children:"Order tracker"}),(0,h.jsx)("ul",{id:"timestamped-action-ul",children:null===(u=x.activeOrder)||void 0===u?void 0:u.actionLog.map((function(e,r){return(0,h.jsx)("li",{children:(0,h.jsx)(N,{message:e[1],timestamp:(0,b.Wq)(e[0]),currentOrb:g,index:r})},e[1])}))})]})})]})]})]})]})}))},7299:function(e,r,s){s(2791);var n=s(184);r.Z=function(e){var r=e.foodItem,s=r.name,a=r.ingredients,t=r.quantity,c=r.instructions,i=r.price;return(0,n.jsx)("div",{className:"food-item-order",children:(0,n.jsxs)("div",{className:"info",children:[(0,n.jsx)("div",{className:"name",children:s}),(0,n.jsx)("div",{className:"ingredients",children:null===a||void 0===a?void 0:a.join(", ")}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"quantity",children:"Quantity: ".concat(t)})," ",(0,n.jsx)("span",{className:"price",children:"Price: $".concat(i)})]}),c&&(0,n.jsx)("textarea",{value:c,readOnly:!0})]})})}},2249:function(e,r,s){s(2791);var n=s(184);function a(e){var r=e.items,s=e.renderList,a=e.className,t=e.children,c=e.id;return(0,n.jsxs)("ul",{className:"".concat(a),id:c,children:[null===r||void 0===r?void 0:r.map(s),t]})}a.defaultProps={className:"",children:!1,id:""},r.Z=a},580:function(e,r,s){s.d(r,{E7:function(){return u},dT:function(){return i},h_:function(){return o},li:function(){return d},pm:function(){return l}});var n=s(5861),a=s(7757),t=s.n(a),c=s(5229),i=function(){var e=(0,n.Z)(t().mark((function e(){var r,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.G.get("api/order");case 2:return r=e.sent,s=r.data,e.abrupt("return",s.rows);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(t().mark((function e(){var r,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.G.get("api/order/all");case 2:return r=e.sent,s=r.data,e.abrupt("return",s.rows);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(t().mark((function e(){var r,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.G.get("api/order/activeorder");case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(t().mark((function e(r){var s,n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.G.post("api/order",r);case 2:return s=e.sent,n=s.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(t().mark((function e(r,s){var n,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.G.put("api/order/changestatus/".concat(r),{status:s});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(r,s){return e.apply(this,arguments)}}()},2361:function(e,r,s){s.r(r),s.d(r,{default:function(){return j}});var n=s(32),a=s(2791),t=s(3710),c=s(5861),i=s(7757),o=s.n(i),d=s(7022),l=s(3958),u=s(2249),v=s(7299),m=s(1733),f=s(184);var x=function(e){var r=e.order,s=(0,m.hl)(r.date);return(0,f.jsxs)("div",{className:"previous-order",children:[(0,f.jsx)("div",{className:"date",children:s}),(0,f.jsx)(u.Z,{items:null===r||void 0===r?void 0:r.foodItems,renderList:function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(v.Z,{foodItem:e})},e.id)}}),(0,f.jsx)("div",{className:"date",children:(0,f.jsxs)("div",{children:["Total:"," $",r.total]})})]})},p=s(580);var h=(0,n.Pi)((function(){var e=(0,a.useContext)(l.Z).orders;return(0,a.useEffect)((function(){(0,c.Z)(o().mark((function r(){var s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,p.dT)();case 2:s=r.sent,e.setOrders(s);case 4:case"end":return r.stop()}}),r)})))()}),[]),(0,f.jsxs)(d.Z,{id:"previous-orders",children:[(0,f.jsx)("h2",{children:"Previous orders"}),0===e.all.length&&"Previous orders will appear here.",(0,f.jsx)(u.Z,{className:"order-list",items:e.all,renderList:function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(x,{order:e})},e.id)}})]})}));var j=(0,n.Pi)((function(){return(0,f.jsxs)("div",{id:"orders",children:[(0,f.jsx)(t.Z,{}),(0,f.jsx)(h,{})]})}))},2677:function(e,r,s){var n=s(885),a=s(1413),t=s(5987),c=s(1694),i=s.n(c),o=s(2791),d=s(162),l=s(184),u=["as","bsPrefix","className"],v=["className"];var m=o.forwardRef((function(e,r){var s=function(e){var r=e.as,s=e.bsPrefix,n=e.className,c=(0,t.Z)(e,u);s=(0,d.vE)(s,"col");var o=(0,d.pi)(),l=[],v=[];return o.forEach((function(e){var r,n,a,t=c[e];delete c[e],"object"===typeof t&&null!=t?(r=t.span,n=t.offset,a=t.order):r=t;var i="xs"!==e?"-".concat(e):"";r&&l.push(!0===r?"".concat(s).concat(i):"".concat(s).concat(i,"-").concat(r)),null!=a&&v.push("order".concat(i,"-").concat(a)),null!=n&&v.push("offset".concat(i,"-").concat(n))})),[(0,a.Z)((0,a.Z)({},c),{},{className:i().apply(void 0,[n].concat(l,v))}),{as:r,bsPrefix:s,spans:l}]}(e),c=(0,n.Z)(s,2),o=c[0],m=o.className,f=(0,t.Z)(o,v),x=c[1],p=x.as,h=void 0===p?"div":p,j=x.bsPrefix,N=x.spans;return(0,l.jsx)(h,(0,a.Z)((0,a.Z)({},f),{},{ref:r,className:i()(m,!N.length&&j)}))}));m.displayName="Col",r.Z=m},9743:function(e,r,s){var n=s(1413),a=s(5987),t=s(1694),c=s.n(t),i=s(2791),o=s(162),d=s(184),l=["bsPrefix","className","as"],u=i.forwardRef((function(e,r){var s=e.bsPrefix,t=e.className,i=e.as,u=void 0===i?"div":i,v=(0,a.Z)(e,l),m=(0,o.vE)(s,"row"),f=(0,o.pi)(),x="".concat(m,"-cols"),p=[];return f.forEach((function(e){var r,s=v[e];delete v[e],r=null!=s&&"object"===typeof s?s.cols:s;var n="xs"!==e?"-".concat(e):"";null!=r&&p.push("".concat(x).concat(n,"-").concat(r))})),(0,d.jsx)(u,(0,n.Z)((0,n.Z)({ref:r},v),{},{className:c().apply(void 0,[t,m].concat(p))}))}));u.displayName="Row",r.Z=u}}]);
//# sourceMappingURL=361.e041dd2e.chunk.js.map