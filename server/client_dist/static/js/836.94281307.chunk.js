"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[836],{7299:function(e,n,t){t(2791);var r=t(184);n.Z=function(e){var n=e.foodItem,t=n.name,a=n.ingredients,s=n.quantity,o=n.instructions,c=n.price;return(0,r.jsx)("div",{className:"food-item-order",children:(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"name",children:t}),(0,r.jsx)("div",{className:"ingredients",children:null===a||void 0===a?void 0:a.join(", ")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"quantity",children:"Quantity: ".concat(s)})," ",(0,r.jsx)("span",{className:"price",children:"Price: $".concat(c)})]}),o&&(0,r.jsx)("textarea",{value:o,readOnly:!0})]})})}},3993:function(e,n,t){var r=t(885),a=t(2791);n.Z=function(){var e=(0,a.useState)(document.activeElement),n=(0,r.Z)(e,2),t=n[0],s=n[1],o=function(){s(document.activeElement)};return(0,a.useEffect)((function(){return document.addEventListener("focusin",o),function(){document.removeEventListener("focusin",o)}}),[]),t}},4985:function(e,n,t){var r=t(885),a=t(2791);n.Z=function(e){var n=(0,a.useState)(!1),t=(0,r.Z)(n,2),s=t[0],o=t[1];function c(n){n.key===e&&o(!0)}var i=function(n){n.key===e&&o(!1)};return(0,a.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("keyup",i),function(){window.removeEventListener("keydown",c),window.removeEventListener("keyup",i)}})),s}},580:function(e,n,t){t.d(n,{$x:function(){return f},E7:function(){return d},Wh:function(){return m},dT:function(){return c},h_:function(){return i},li:function(){return u},pm:function(){return l}});var r=t(5861),a=t(7757),s=t.n(a),o=t(5229),c=function(){var e=(0,r.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.G.get("api/order");case 2:return n=e.sent,t=n.data,e.abrupt("return",t.rows);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.G.get("api/order/all");case 2:return n=e.sent,t=n.data,e.abrupt("return",t.rows);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.G.get("api/order/activeorder");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.G.post("api/order",n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(s().mark((function e(n,t){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.G.put("api/order/changestatus/".concat(n),{status:t});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.G.post("api/order/guest",n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.G.get("api/order/guest/activeorder");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},525:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r=t(5861),a=t(885),s=t(7757),o=t.n(s),c=t(2791),i=t(7022),u=t(2677),l=t(3360),d=t(32),f=t(4483),m=t(3174),p=t(3958),x=t(9935),h=t(2249),Z=t(1293),v=t(9743),b=t(3855),j=t(3983),y=t(7299),N=t(1733),w=t(580),g=t(3993),k=t(4985),E=t(184);var C=(0,d.Pi)((function(e){var n=e.order,t=n.id,s=n.foodItems,i=n.status,d=n.date,x=n.total,C=n.address,O=C.firstName,L=C.lastName,F=C.addressLineOne,R=C.addressLineTwo,S=C.city,T=C.state,P=C.zip,D=(0,c.useContext)(p.Z),G=D.admin,I=D.notifications,H=(0,c.useState)(!0),A=(0,a.Z)(H,2),M=A[0],z=A[1],U=(0,c.useState)(0),_=(0,a.Z)(U,2),B=_[0],K=_[1],W=i>=0,q=n.status>=1,$=i>=2,Q=i>=3,J=(0,N.hl)(d),V=function(){var e=(0,r.Z)(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,(0,w.E7)(t,B);case 3:G.setOrderStatus(n,B),I.message("Order status updated",j.ek,j.j8);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),X=function(){z(!M)},Y=(0,g.Z)(),ee=(0,c.useRef)(null),ne=(0,k.Z)("Enter");return(0,c.useEffect)((function(){ne&&Y===ee.current&&X()}),[ne]),(0,E.jsxs)("div",{className:"admin-order collapsible-item",children:[(0,E.jsxs)("div",{className:"title-buttons-row body",children:[(0,E.jsxs)(u.Z,{className:"tab-col",md:"auto",children:["Order"," #",t.slice(0,3)]}),(0,E.jsxs)(u.Z,{className:"tab-col second-col",md:"auto",children:[(0,E.jsx)("span",{children:J}),(0,E.jsx)("span",{className:"completion-label ".concat(Q&&"secondary-green"),children:Q?"Complete":"Incomplete"})]}),(0,E.jsxs)(u.Z,{className:"tab-col",md:"auto",children:["Total"," $",(0,N.qH)(Number(x))]}),(0,E.jsx)(u.Z,{className:"ellipsis-menu",md:"auto",children:(0,E.jsxs)(Z.Z,{autoClose:!0,children:[(0,E.jsx)(Z.Z.Toggle,{children:(0,E.jsx)(f.G,{icon:m.Uwo})}),(0,E.jsx)(Z.Z.Menu,{children:(0,E.jsx)(Z.Z.Item,{ref:ee,children:(0,E.jsx)(l.Z,{onClick:X,children:M?"Collapse":"Expand"})})})]})})]}),M&&(0,E.jsx)("div",{className:"divider"}),M&&(0,E.jsxs)(v.Z,{className:"expanded-content ".concat(M&&"expand"),children:[(0,E.jsxs)(u.Z,{className:"food-items-col",children:[(0,E.jsx)(u.Z,{className:"label",children:"Items"}),(0,E.jsx)(h.Z,{items:s,renderList:function(e){return(0,E.jsx)("li",{children:(0,E.jsx)(y.Z,{foodItem:e})},e.id)}})]}),(0,E.jsxs)(u.Z,{className:"address-status-col",children:[(0,E.jsxs)(u.Z,{className:"address",children:[(0,E.jsx)(u.Z,{className:"label",children:"Delivery address"}),(0,E.jsxs)(u.Z,{children:[O," ",L]}),(0,E.jsxs)(u.Z,{children:[F," ",R]}),(0,E.jsxs)(u.Z,{children:[S,", ",T," ",P]})]}),(0,E.jsxs)(b.Z,{className:"order-status",onSubmit:V,children:[(0,E.jsx)(u.Z,{className:"label",children:"Order status"}),(0,E.jsxs)(u.Z,{children:[W&&(0,E.jsx)(f.G,{icon:m.LEp}),(0,E.jsx)(b.Z.Check,{label:"Order received",name:"status",type:"radio",className:"".concat(W&&"blocked")})]}),(0,E.jsxs)(u.Z,{children:[q&&(0,E.jsx)(f.G,{icon:m.LEp}),(0,E.jsx)(b.Z.Check,{label:"Order being prepared",name:"status",type:"radio",className:"status-two-radio-button ".concat(q&&"blocked"),onClick:function(){return K(1)}})]}),(0,E.jsxs)(u.Z,{children:[$&&(0,E.jsx)(f.G,{icon:m.LEp}),(0,E.jsx)(b.Z.Check,{label:"Order en route",name:"status",type:"radio",className:"status-three-radio-button ".concat($&&"blocked"),onClick:function(){return K(2)}})]}),(0,E.jsxs)(u.Z,{children:[Q&&(0,E.jsx)(f.G,{icon:m.LEp}),(0,E.jsx)(b.Z.Check,{label:"Order delivered",name:"status",type:"radio",className:"status-four-radio-button ".concat(Q&&"blocked"),onClick:function(){return K(3)}})]}),(0,E.jsx)(l.Z,{className:"submit-change-status-button submit-button btn btn-secondary",type:"submit",children:"Update"})]})]})]})]})}));var O=(0,d.Pi)((function(){var e=(0,c.useState)(),n=(0,a.Z)(e,2),t=n[0],s=n[1],d=(0,c.useContext)(p.Z).admin;return(0,c.useEffect)((function(){(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.h_)();case 2:n=e.sent,d.setOrders(n);case 4:case"end":return e.stop()}}),e)})))()}),[]),(0,E.jsx)(i.Z,{id:"admin-orders",children:t?(0,E.jsxs)(u.Z,{children:[(0,E.jsx)("h2",{children:t.name}),(0,E.jsxs)(l.Z,{onClick:function(){return s(void 0)},className:"btn btn-secondary return-button",children:[(0,E.jsx)(f.G,{icon:m.EyR}),"Return"]}),(0,E.jsx)(x.Z,{foodItem:t})]}):(0,E.jsxs)(u.Z,{children:[(0,E.jsx)("h2",{children:"Orders"}),(0,E.jsx)(h.Z,{className:"collapsible-items-ul",items:d.allOrders,renderList:function(e){return(0,E.jsx)("li",{children:(0,E.jsx)(C,{order:e})},e.id)}})]})})}))},5316:function(e,n,t){t.d(n,{Z:function(){return _}});var r,a=t(885),s=t(5987),o=t(1413),c=t(1694),i=t.n(c),u=t(3070),l=t(7357),d=t(8376),f=t(6382);function m(e){if((!r&&0!==r||e)&&l.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),r=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return r}var p=t(7731),x=t(9007),h=t(3201),Z=t(1683),v=t(3690),b=t(2791),j=t(1835),y=t(5137),N=t(2709),w=t(6543),g=(0,w.Z)("modal-body"),k=t(9820),E=t(162),C=t(184),O=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],L=b.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=e.contentClassName,c=e.centered,u=e.size,l=e.fullscreen,d=e.children,f=e.scrollable,m=(0,s.Z)(e,O);t=(0,E.vE)(t,"modal");var p="".concat(t,"-dialog"),x="string"===typeof l?"".concat(t,"-fullscreen-").concat(l):"".concat(t,"-fullscreen");return(0,C.jsx)("div",(0,o.Z)((0,o.Z)({},m),{},{ref:n,className:i()(p,r,u&&"".concat(t,"-").concat(u),c&&"".concat(p,"-centered"),f&&"".concat(p,"-scrollable"),l&&x),children:(0,C.jsx)("div",{className:i()("".concat(t,"-content"),a),children:d})}))}));L.displayName="ModalDialog";var F=L,R=(0,w.Z)("modal-footer"),S=t(8024),T=["bsPrefix","className"],P=b.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=(0,s.Z)(e,T);return t=(0,E.vE)(t,"modal-header"),(0,C.jsx)(S.Z,(0,o.Z)((0,o.Z)({ref:n},a),{},{className:i()(r,t)}))}));P.displayName="ModalHeader",P.defaultProps={closeLabel:"Close",closeButton:!1};var D=P,G=(0,t(7472).Z)("h4"),I=(0,w.Z)("modal-title",{Component:G}),H=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],A={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:F};function M(e){return(0,C.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{timeout:null}))}function z(e){return(0,C.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{timeout:null}))}var U=b.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,c=e.style,N=e.dialogClassName,w=e.contentClassName,g=e.children,O=e.dialogAs,L=e["aria-labelledby"],F=e["aria-describedby"],R=e["aria-label"],S=e.show,T=e.animation,P=e.backdrop,D=e.keyboard,G=e.onEscapeKeyDown,I=e.onShow,A=e.onHide,U=e.container,_=e.autoFocus,B=e.enforceFocus,K=e.restoreFocus,W=e.restoreFocusOptions,q=e.onEntered,$=e.onExit,Q=e.onExiting,J=e.onEnter,V=e.onEntering,X=e.onExited,Y=e.backdropClassName,ee=e.manager,ne=(0,s.Z)(e,H),te=(0,b.useState)({}),re=(0,a.Z)(te,2),ae=re[0],se=re[1],oe=(0,b.useState)(!1),ce=(0,a.Z)(oe,2),ie=ce[0],ue=ce[1],le=(0,b.useRef)(!1),de=(0,b.useRef)(!1),fe=(0,b.useRef)(null),me=(0,p.Z)(),pe=(0,a.Z)(me,2),xe=pe[0],he=pe[1],Ze=(0,h.Z)(n,he),ve=(0,x.Z)(A),be=(0,E.SC)();t=(0,E.vE)(t,"modal");var je=(0,b.useMemo)((function(){return{onHide:ve}}),[ve]);function ye(){return ee||(0,y.t)({isRTL:be})}function Ne(e){if(l.Z){var n=ye().getScrollbarWidth()>0,t=e.scrollHeight>(0,d.Z)(e).documentElement.clientHeight;se({paddingRight:n&&!t?m():void 0,paddingLeft:!n&&t?m():void 0})}}var we=(0,x.Z)((function(){xe&&Ne(xe.dialog)}));(0,Z.Z)((function(){(0,f.Z)(window,"resize",we),null==fe.current||fe.current()}));var ge=function(){le.current=!0},ke=function(e){le.current&&xe&&e.target===xe.dialog&&(de.current=!0),le.current=!1},Ee=function(){ue(!0),fe.current=(0,v.Z)(xe.dialog,(function(){ue(!1)}))},Ce=function(e){"static"!==P?de.current||e.target!==e.currentTarget?de.current=!1:null==A||A():function(e){e.target===e.currentTarget&&Ee()}(e)},Oe=(0,b.useCallback)((function(e){return(0,C.jsx)("div",(0,o.Z)((0,o.Z)({},e),{},{className:i()("".concat(t,"-backdrop"),Y,!T&&"show")}))}),[T,Y,t]),Le=(0,o.Z)((0,o.Z)({},c),ae);Le.display="block";return(0,C.jsx)(k.Z.Provider,{value:je,children:(0,C.jsx)(j.Z,{show:S,ref:Ze,backdrop:P,container:U,keyboard:!0,autoFocus:_,enforceFocus:B,restoreFocus:K,restoreFocusOptions:W,onEscapeKeyDown:function(e){D||"static"!==P?D&&G&&G(e):(e.preventDefault(),Ee())},onShow:I,onHide:A,onEnter:function(e,n){e&&Ne(e),null==J||J(e,n)},onEntering:function(e,n){null==V||V(e,n),(0,u.ZP)(window,"resize",we)},onEntered:q,onExit:function(e){null==fe.current||fe.current(),null==$||$(e)},onExiting:Q,onExited:function(e){e&&(e.style.display=""),null==X||X(e),(0,f.Z)(window,"resize",we)},manager:ye(),transition:T?M:void 0,backdropTransition:T?z:void 0,renderBackdrop:Oe,renderDialog:function(e){return(0,C.jsx)("div",(0,o.Z)((0,o.Z)({role:"dialog"},e),{},{style:Le,className:i()(r,t,ie&&"".concat(t,"-static")),onClick:P?Ce:void 0,onMouseUp:ke,"aria-label":R,"aria-labelledby":L,"aria-describedby":F,children:(0,C.jsx)(O,(0,o.Z)((0,o.Z)({},ne),{},{onMouseDown:ge,className:N,contentClassName:w,children:g}))}))}})})}));U.displayName="Modal",U.defaultProps=A;var _=Object.assign(U,{Body:g,Header:D,Title:I,Footer:R,Dialog:F,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})}}]);
//# sourceMappingURL=836.94281307.chunk.js.map